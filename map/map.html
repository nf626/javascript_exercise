<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map</title>
</head>
<body>
    <script>
       /* The Map Object
       A Map object holds key-value pairs where the keys can be any datatype.
       A Map also remembers the original insertion order of the keys.
       */
        
       // Create a Map
       // Passing an Array to new Map() constructor
       const fr = new Map([
            ["apples", 500],
            ["bananas", 300],
            ["oranges", 200]
        ]);
        console.log('Map:', fr);

        // Create a Map and use Map.set()
        const fr1 = new Map();
        fr1.set("apples", 500);
        fr1.set("bananas", 300);
        fr1.set("oranges", 200);
        console.log('Map set:', fr1);

        // get()
        // gets the value of a key in a Map.
        console.log('Get:', fr1.get("apples"));

        // Map.groupBy()
        // The Map.groupBy() method groups elements of an object
        // according to string values returned from a callback function.
        // The Map.groupBy() method does not change the original object.
        const fruits = [
            {name:"apples", quantity:300},
            {name:"bananas", quantity:500},
            {name:"oranges", quantity:200},
            {name:"kiwi", quantity:150}
        ];

        // Destructuring in the function parameter: Instead of accessing the properties using dot notation (e.g., user.name),
        // you can use curly braces in the function parameter to directly extract the desired properties into variables.
        // The variable names within the curly braces must match the property names of the object being passed.
        
        // Callback function to Group Elements
        function myCallback({ quantity }) {
            return quantity > 200 ? "ok" : "low";
        }
        // Group by Quantity
        const result = Map.groupBy(fruits, myCallback);

        for (const x of result.get('low')) {
            console.log('Low:', x.name, x.quantity);
        }

        for (const x of result.get('ok')) {
            console.log('Ok:', x.name, x.quantity);
        }


    </script>
</body>
</html>
